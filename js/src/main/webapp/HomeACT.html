<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>Home</title>
    <link rel="stylesheet" type="text/css" media="all" href="css/style.css"/>
    <script src="utils.js" charset="utf-8" defer></script>
    <script src="buyViewManagement.js" charset="utf-8" defer></script>
    <script src="sellViewManagement.js" charset="utf-8" defer></script>
    <script src="auctionManagement.js" charset="utf-8" defer></script>
    <script src="sort.js" charset="utf-8" defer></script>
    <link rel="apple-touch-icon" sizes="57x57" href="favicon/apple-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="favicon/apple-icon-60x60.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="favicon/apple-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="favicon/apple-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="favicon/apple-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="favicon/apple-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-icon-152x152.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-icon-180x180.png"/>
    <link rel="icon" type="image/png" sizes="192x192" href="favicon/android-icon-192x192.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png"/>
    <meta name="theme-color" content="#ffffff">
</head>
<body>
<div class="topnav">
    <h1>TIW 2021 Auction Website</h1>
    <a href="Logout">Logout</a>
    <a id="id_sellbar" href="#">Sell</a>
    <a id="id_buybar" href="#">Buy</a>
</div>
<h1>Welcome to the TIW 2021 Auction Home Page</h1>
<p align="center">Nice to see you again <span id="id_username"></span></p>
<div id="id_alert" class="error-message"></div>
<br>

<div id="id_buy" style="visibility: hidden; display: none">
    <div class="row" id="id_buy_search">
        <div class="column">
            <h2>These are your won auctions: </h2>
            <p id="id_alertWonAuctions" class="error-message"></p>
            <table id="id_wonAuctions">
                <thead>
                <tr>
                    <th>Final price</th>
                    <th>Item Name</th>
                    <th>Description</th>

                </tr>
                </thead>
                <tbody id="id_wonAuctions_body">
                </tbody>
            </table>
            <h2>Recently visited auctions: </h2>
            <p id="id_alertRecentAuctions" class="error-message"></p>
            <table id="id_visitedAuctions">
                <thead>
                <tr>
                    <!--<th>Current price</th>-->
                    <th>Item Name</th>
                    <th>Description</th>

                </tr>
                </thead>
                <tbody id="id_visitedAuctions_body">
                </tbody>
            </table>
            <div id="id_latest_details"></div>
        </div>
        <div class="column">
            <br>
            <br>
            <form id="id_searchauctionform" action="#">
                <div class="container">
                    <label for="keyword"><strong>Search for Open Auctions</strong></label>
                    <input type="text" placeholder="Write a key word..." id="keyword" name="keyword" required> <br>
                    <button type="submit">Search</button>
                    <div id="id_alert_search" class="error-message"></div>
                    <p id="id_searchalert"></p>
                </div>
            </form>
            <br>
            <br>
            <table id="id_listcontainer">
                <thead>
                <tr>
                    <th>ID Auction</th>
                    <th>Item Name</th>
                    <th>Initial Price</th>
                    <th>Minimum Raise</th>
                    <th>Deadline</th>

                </tr>
                </thead>
                <tbody id="id_listcontainerbody">
                </tbody>
            </table>
        </div>
    </div>
    <div id="id_buy_details" style="visibility: hidden; display: none">
        <a id="id_goBackButtonDetails" href="#"><-- Back</a>
        <div class="row">
            <div class="column">

                <div id="id_itemDescription" align="center">
                    <br>
                    <br>
                    <h1 id="id_itemnametitle"></h1>
                    <br>
                    <h2 id="id_itemdescriptiontitle"></h2>
                    <br>
                    <img style="max-height: 300px; max-width: 300px;" alt="No image found" id="id_itemimage">
                </div>
            </div>
            <div id="bidInfoForm" class="column">
                <div align="left">
                    <h3>Insert here the price of your bid, make sure that your price is higher than the max in the
                        list </h3>
                </div>
                <div align="left">
                    <h4 id="id_currentPriceTitle"></h4>
                    <h4 id="id_minRaise"></h4>
                </div>
                <form action="#" id="id_bidform">
                    <div class="container">
                        <label for="price"><b>Make a new bid</b></label>
                        <input type="text" placeholder="Type here..." id="price" name="price" required> <br>
                        <button type="submit">Submit</button>
                        <p id="id_alertPriceBid" class="error-message"></p>
                        <input type="hidden" name="idauction">

                    </div>
                </form>

                <br>
                <br>
                <br>
                <table id="id_bidlistcontainer">
                    <thead>
                    <tr>
                        <th>Bid Price</th>
                        <th>Date of Bid</th>

                    </tr>
                    </thead>
                    <tbody id="id_bidlistcontainerbody">
                    </tbody>
                </table>
                <h id="id_noBids"></h>
            </div>
        </div>
    </div>
</div>
<div id="id_sell" style="visibility: hidden; display: none">
    <div id="id_sell_main" class="row">
        <div class="column">
            <h3>
                <center>Open auctions</center>
            </h3>
            <table align="center" id="id_sellopencontainer">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Last bid</th>
                    <th>Minimum raise</th>
                    <th>Deadline</th>
                </tr>
                </thead>
                <tbody id="id_sellopencontainerbody">
                </tbody>
            </table>
            <h3>
                <center>Closed auctions</center>
            </h3>
            <table align="center" id="id_sellclosedcontainer">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Last bid</th>
                    <th>Minimum raise</th>
                    <th>Deadline</th>
                </tr>
                </thead>
                <tbody id="id_sellclosedcontainerbody">
                </tbody>
            </table>
        </div>
        <div class="column">
            <h3>
                <center>Add new auction</center>
            </h3>
            <form action="#" enctype="multipart/form-data" id="id_addAuctionForm">
                <div class="container">
                    <label for="itemName">Name: </label><input id="itemName" name="itemName"
                                                               placeholder="Select a name for the article, please"
                                                               type="text" required><br><br>
                    <label for="itemImage">Image: </label><input type="file" id="itemImage" name="itemImage"><br><br>
                    <label for="itemDescription">Description: </label><input id="itemDescription" name="itemDescription"
                                                                             type="text"
                                                                             placeholder="Write a short description to help users, please"
                                                                             required><br><br>
                    <label for="initialPrice">Initial Price: </label><input id="initialPrice" name="initialPrice"
                                                                            type="number"
                                                                            placeholder="9.99" min="0.01"
                                                                            max="999999.99" step="0.01"
                                                                            required><br><br>
                    <label for="minRaise">Minimum Raise: </label><input id="minRaise" name="minRaise" placeholder="0.99"
                                                                        step="0.01"
                                                                        min="0.01" max="500000.00"
                                                                        required><br><br>
                    <label for="deadlineLocalDateTime">Auction closing time: </label><input id="deadlineLocalDateTime"
                                                                                            name="deadlineLocalDateTime"
                                                                                            type="datetime-local"
                                                                                            required><br><br>
                    <input type="hidden" id="deadlineTimeZone" name="deadlineTimeZone" value="Europe/Rome">
                    <button type="submit" value="Submit">Submit</button>
                </div>
            </form>
        </div>
    </div>
    <div id="id_auctiondetails" class="row" style="visibility: hidden; display: none">
        <div class="column">
            <a id="id_sellBackButton" href="#"><-- Back</a>
            <h3>Auction data</h3>
            <div id="id_auctiondata">
            </div>
            <img style="max-height: 300px; max-width: 300px;" alt="No image found" id="id_itemimage2">
        </div>
        <div class="column" id="id_additionalactiondetails" style="visibility: hidden; display:none;">
            <p id="id_auctiondetailsalert" align="center" style="visibility: hidden;display: none"></p>
            <table align="center" id="id_bidstable">
                <thead id="id_bidstablehead">
                <tr>
                    <th>Bidder username</th>
                    <th>Bid</th>
                    <th>Date & time</th>
                </tr>
                <tbody id="id_bidstablebody">
                </tbody>
            </table>
            <form align="center" action="#" id="id_formcloseauction" style="visibility: hidden;display: none">
                <input id="auctionId" name="auctionId" value="#" type="hidden" required>
                <button type="submit">Close auction</button>
            </form>
        </div>
    </div>

</div>
</body>
</html>