<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GetSearchedAuction</title>
    <link href="../css/style.css" th:href="@{/css/style.css}" rel="stylesheet" />
</head>
<body>
<div class="topnav">
    <h1>TIW 2021 Auction Website</h1>
    <a th:href="@{/Logout}">Logout</a>
    <a th:href="@{/Sell}">Sell</a>
    <a class="active" th:href="@{/GetSearchedAuction}">Buy</a>
    <a th:href="@{/Home}">Home Page</a>
</div>
<div align="left">
<h1>Use this page to search an Open Auction</h1>
</div>
<form action = "/GetSearchedAuction" method="get">
    <div class="container">
        <label for="keyword"><b>Search for Open Auctions</b></label>
        <input type="text" placeholder="Write a key word..." id="keyword" name="keyword" required> <br>
        <button type="submit">Search</button>
        <p th:text=" ${errorMsg}"></p>
    </div>
</form>
</body>
<table th:if="auctions != null">
    <thead>
    <tr>
        <th>ID Auction</th>
        <th>Item Name</th>
        <th>Initial Price</th>
        <th>Minimum Raise</th>
        <th>Deadline</th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="a : ${auctions}">

        <td th:text="${a.getKey().getIdAuction()}"></td>
        <td th:text="${a.getValue()}"></td>
        <td th:text="${a.getKey().getInitialPrice()}"></td>
        <td th:text="${a.getKey().getMinRaise()}"></td>
        <td th:text="${a.getKey().getDeadline()}"></td>
        <!-- <td><a th:href="@{/GetMissionDetails(missionid=${m.id})}">Details</a></td> -->
    </tr>
    </tbody>
</table>
</html>