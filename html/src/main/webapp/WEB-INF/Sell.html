<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sell new products!</title>
    <link href="../css/style.css" th:href="@{/css/style.css}" rel="stylesheet"/>
</head>
<body>
<div class="topnav">
    <h1>TIW 2021 Auction Website</h1>
    <a th:href="@{/Logout}">Logout</a>
    <a class="active" th:href="@{/SellServlet}">Sell</a>
    <a th:href="@{/GetSearchedAuction}">Buy</a>
    <a th:href="@{/Home}">Home Page</a>
</div>
<div class="row">
    <div class="column">
        <h3>
            <center>Open auctions</center>
        </h3>
        <table align="center">
            <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Last bid</th>
                <th>Minimum raise</th>
                <th>Deadline</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="openAuction:${openAuctions}">
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${openAuction.idAuction})}"><span th:text="${openAuction.itemName}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${openAuction.idAuction})}"><span th:text="${openAuction.itemDescription}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${openAuction.idAuction})}"><span th:text="${openAuction.price}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${openAuction.idAuction})}"><span th:text="${openAuction.minRaise}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${openAuction.idAuction})}"><span th:text="${#dates.format(openAuction.getDeadline(), 'dd-MM-yyyy HH:mm')}"></span></a></td>
            </tr>
            </tbody>
        </table>
        <h3>
            <center>Closed auctions</center>
        </h3>
        <table align="center">
            <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Last bid</th>
                <th>Minimum raise</th>
                <th>Deadline</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="closedAuction:${closedAuctions}">
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${closedAuction.idAuction})}"><span th:text="${closedAuction.itemName}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${closedAuction.idAuction})}"><span th:text="${closedAuction.itemDescription}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${closedAuction.idAuction})}"><span th:text="${closedAuction.price}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${closedAuction.idAuction})}"><span th:text="${closedAuction.minRaise}"></span></a></td>
                <td><a th:href="@{/AuctionDetailsServlet(auctionId=${closedAuction.idAuction})}"><span th:text="${#dates.format(closedAuction.getDeadline(), 'dd-MM-yyyy HH:mm')}"></span></a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="column">
        <h3>Add new auction</h3>
        <form action="SellHelperServlet" method="POST" enctype="multipart/form-data">
            <div class="container">
                <label for="itemName">Name: </label><input id="itemName" name="itemName" placeholder="iPhone"
                                                           required><br><br>
                <label for="itemImage">Image: </label><input type="file" id="itemImage" name="itemImage"><br><br>
                <label for="itemDescription">Description: </label><input id="itemDescription" name="itemDescription"
                                                                         placeholder="Good phone?" required><br><br>
                <label for="initialPrice">Initial Price: </label><input id="initialPrice" name="initialPrice"
                                                                        placeholder="500" required><br><br>
                <label for="minRaise">Minimum Raise: </label><input id="minRaise" name="minRaise" placeholder="10"
                                                                    required><br><br>
                <label for="deadlineDate"></label>Last aviable date: <input id="deadlineDate" name="deadlineDate" type="date"
                                                               required><br><br>
                <label for="deadlineTime">Last aviable time: </label><input id="deadlineTime" name="deadlineTime" type="time" required><br><br>
                <input type="submit" value="Submit">
            </div>
        </form>
    </div>
</div>
</body>
</html>