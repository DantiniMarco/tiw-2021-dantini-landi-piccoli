<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>GoToBidPage</title>
    <link href="../css/style.css" th:href="@{/css/style.css}" rel="stylesheet" />
</head>
<body>
<div class="topnav">
    <h1>TIW 2021 Auction Website</h1>
    <a th:href="@{/Logout}">Logout</a>
    <a th:href="@{/SellServlet}">Sell</a>
    <a class="active" th:href="@{/GetSearchedAuction}">Buy</a>
    <a th:href="@{/Home}">Home Page</a>
</div>
<div align="left">
    <h1>Use this page to add a new Bid for the searched item</h1>
</div>
<div align="center">
    <br>
    <br>
    <h1 th:text = "${'Name : '+ item.getName()}"></h1>
    <br>
    <h2 th:text = "${'Description : '+ item.getDescription()}"></h2>
    <br>
    <img style="max-height: 300px; max-width: 300px;" th:src = "@{/ImageServlet(name=${item.getImage()})}">
</div>
</body>
<div align="left">
<h3>Insert here the price of your bid, make sure that your price is higher than the max in the list </h3>
</div>
<div align="left">
    <h4 th:text = "${'The actual max price for this auctions is: '+ currMax}"></h4>
</div>
<form action = "GoToBidPage" method="post">
    <div class="container">
        <label for="price"><b>Make a new bid</b></label>
        <input type="text" placeholder="Type here..." id="price" name="price" required> <br>
        <button type="submit">Submit</button>
        <p th:text="${errorMsg}"></p>
    </div>
</form>
<table th:if="${bids != null}">
    <thead>
    <tr>
        <th>ID Bid</th>
        <th>Bid Price</th>
        <th>Deadline</th>

    </tr>
    </thead>
    <tbody>
    <tr th:each="a : ${bids}">

        <td th:text="${a.getIdBid()}"></td>
        <td th:text="${a.getBidPrice()}"></td>
        <td th:text="${#dates.format(a.getDateTime(), 'dd-MM-yyyy HH:mm')}"></td>
    </tr>
    </tbody>
</table>
<div th:unless="${bids!= null}">
    <p th:text="${'No bids found for this item.'}"></p>
</div>
</html>